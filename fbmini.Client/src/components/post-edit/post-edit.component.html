<form class="min-w-[20rem] w-[35rem] max-w-[80vw] p-4 bg-gradient-to-br from-green-600 to-purple-500" (submit)="post()"
  [formGroup]="form">
  <mat-card class="shadow-[0_2px_4px_#0000001a] flex flex-col gap-2">
    <mat-card-header class="flex items-center justify-between">
      <button type="button" mat-icon-button mat-dialog-close color="warn">
        <mat-icon>close</mat-icon>
      </button>
      <mat-card-title>
        Create a new post
      </mat-card-title>
    </mat-card-header>


    <input hidden #fileInput type="file" accept="image/*" placeholder="attachment" (change)="onPictureSelect($event)" />

    <mat-card-content class="h-[70vh] custom-card-content">
      <mat-form-field subscriptSizing="dynamic">
        <mat-label>Title</mat-label>
        <input matInput formControlName="Title" maxlength="24" placeholder="Title" />
        <mat-hint align="end">{{ form.get("Title")?.value?.length }} / 24</mat-hint>
      </mat-form-field>
      <button type="button" mat-raised-button (click)="fileInput.click()">
        Add attachment
      </button>
      <img *ngIf="imagePreview" [src]="imagePreview" alt="Post" class="object-contain mx-auto max-h-[10rem]" />
      <mat-form-field subscriptSizing="dynamic">
        <mat-label>Content</mat-label>
        <textarea matInput formControlName="Content" maxlength="256" placeholder="Content"></textarea>
        <mat-hint align="end">{{ form.get("Content")?.value?.length }} / 256</mat-hint>
      </mat-form-field>
    </mat-card-content>

    <mat-divider></mat-divider>

    <mat-card-actions class="flex justify-end">
      <button type="submit" mat-raised-button>Post</button>
    </mat-card-actions>
  </mat-card>
</form>
